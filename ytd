#!/bin/sh
# sk,26,10,22 funktioniert
# sk,26,10,22 TODO: Qualiti√§t herabsetzen, anderer Dateiname
VIDEO_QUALITIY="1080"
OUTPUT_STRING='"%(title)s.%(ext)s"'
QUALITY_STRING="bestvideo[height<=${VIDEO_QUALITIY}][ext=mp4]+bestaudio[ext=m4a]\/best[ext=mp4]\/best"
echo "Q: $QUALITY_STRING"
FILENAME=$( yt-dlp --get-filename -o "%(title)s" $1 )
echo "Datei $FILENAME"
# yt-dlp -o $OUTPUT_STRING -S res,ext:mp4:m4a --recode mp4 --no-playlist $1
yt-dlp -o $OUTPUT_STRING -f "$QUALITY_STRING" --recode mp4 --no-playlist $1
if [ -f "${FILENAME}.mp4" ]
then
  open "${FILENAME}.mp4"
fi

